<!DOCTYPE html>


<html lang="cn">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title>Git |  采石矶</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="采石矶" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-Git"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  Git
</h1>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/%E6%8A%80%E6%9C%AF/Git/" class="article-date">
  <time datetime="2020-12-14T09:11:45.000Z" itemprop="datePublished">2020-12-14</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> Word count:</span>
            <span class="post-count">2.4k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> Reading time≈</span>
            <span class="post-count">13 min</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ol>
<li>安装 Git。 </li>
<li>设置你的用户名和邮件地址。</li>
</ol>
  <figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.name <span class="string">&quot;lam howard&quot;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.email howard@example.com</span></span><br></pre></td></tr></table></figure>

<p>每一个 Git 提交都会使用这些信息，它们会写入到你的每一次提交中。如果使用了 <code>--global</code> 选项，那么该命令只需要运行一次。</p>
<ol start="3">
<li>查看一下你的设置</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>本地新建一个项目：<code>git init</code>，或从远程仓库clone一个项目到本地：<code>git clone ...</code></li>
</ol>
<h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><p>your local repository consists of three “trees” maintained by git.<br><img src="/images/git-trees.png"></p>
<ol>
<li>Working Directory: holds the actual files;<br> <code>git add filename</code><br> <code>git add *</code> add files<br> <code>git add .</code> 隐藏文件(.开头)也一起add<br> <code>git add -i</code> interactive adding</li>
<li>Index: acts as a staging area;<br> <code>git commit -m &quot;comment&quot;</code></li>
</ol>
<p>  Use <code>git commit --amend</code> or <code>git commit --amend -m &quot;updated commit message&quot;</code> to modify the most recent commit. It lets you combine staged changes with the previous commit instead of creating an entirely new commit.</p>
<ol>
<li>HEAD: points to the last commit you’ve made.<br> <code>git push origin master(or other branch)</code><br> <code>git remote add origin &lt;server&gt;</code> 如果没有clone过用这个</li>
</ol>
<h2 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h2><ul>
<li>diff compares your working directory with the staging area</li>
<li>diff –cached compares your staging area with the latest     commit (or any named commit you supply)</li>
<li>diff <commit_ID> compares your working directory     with the named commit (use HEAD for the latest commit)</li>
<li>diff <commit_ID> <commit_ID> compares     (surprise) two named commits (for example, diff HEAD HEAD^ shows     the differences from the last two commits)</li>
<li><img src="/images/git/git-diff.png"></li>
</ul>
<h2 id="Fetch-and-pull"><a href="#Fetch-and-pull" class="headerlink" title="Fetch and pull"></a>Fetch and pull</h2><ul>
<li>Fetch: <code>git fetch origin</code><br>git fetch really only downloads new data from a remote repository - but it doesn’t integrate any of this new data into your working files. Fetch is great for getting a fresh view on all the things that happened in a remote repository.</li>
<li>Pull: <code>git pull origin master</code><br>git pull, in contrast, is used with a different goal in mind: to update your current HEAD branch with the latest changes from the remote server. This means that pull not only downloads new data; it also directly integrates it into your current working copy files.</li>
<li>git pull等价于git fetch, git merge FETCH_HEAD</li>
<li>git pull –rebase等价于git fetch, git rebase FETCH_HEAD</li>
</ul>
<h2 id="Merge"><a href="#Merge" class="headerlink" title="Merge"></a>Merge</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a - b - c - d   Master</span><br><span class="line">     \</span><br><span class="line">       e - f - g Feature</span><br></pre></td></tr></table></figure>
<p>Before merging your code into one of your project’s long-running branches (like a “development” or “master” branch), make sure that your local repository is up to date:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    a - b - c - d - h   Master</span><br><span class="line">         \</span><br><span class="line">           e - f - g Feature</span><br><span class="line"></span><br><span class="line">git fetch</span><br><span class="line">git branch -va</span><br><span class="line">  master             87eab46 [behind 1] Fix #332</span><br><span class="line">* feature            b320ab3 Ensure safe login</span><br></pre></td></tr></table></figure>
<p>The [behind 1] remark tells us that “master” has received new changes on the remote. We must update “master” before we can integrate our own changes.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>
<p>The last thing to check before actually starting the merge process is our current HEAD branch: we need to make sure that we’ve checked out the branch that should <em>receive</em> the changes: <code>git checkout master</code><br>Merge:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git merge feature</span><br><span class="line"></span><br><span class="line">    a - b - c - d - h - i   Master</span><br><span class="line">         \             &#x2F;</span><br><span class="line">           e -  f -  g      Feature</span><br></pre></td></tr></table></figure>
<p>After merging, do git add, commit, push.</p>
<h2 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h2><p><img src="/images/git/before-rebase.png"></p>
<p>跟merge作用类似，但能让git历史记录变得更简单。rebasing <em>re-writes</em> the project history by creating brand new commits for each commit in the original branch. 不要在公共分支上rebase</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout feature</span><br><span class="line">git rebase master</span><br></pre></td></tr></table></figure>
<p>不断修改冲突然后按提示做如下操作直至rebase完成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add myfile.txt</span><br><span class="line">git rebase --continue</span><br></pre></td></tr></table></figure>

<p><img src="/images/git/rebase.png"></p>
<p>Interactive rebasing gives you the opportunity to alter commits as they are moved to the new branch. Typically, this is used to clean up a messy history before merging a feature branch into <code>main</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout feature</span><br><span class="line">git rebase -i main</span><br></pre></td></tr></table></figure>

<p>得到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pick 33d5b7a Message for commit #1</span><br><span class="line">pick 9480b3d Message for commit #2</span><br><span class="line">pick 5c67e61 Message for commit #3</span><br></pre></td></tr></table></figure>

<p>if the 2nd commit fixes a small problem in the 1st commit, you can condense them into a single commit with the <code>fixup</code> command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pick 33d5b7a Message for commit #1</span><br><span class="line">fixup 9480b3d Message for commit #2</span><br><span class="line">pick 5c67e61 Message for commit #3</span><br></pre></td></tr></table></figure>

<p><img src="/images/git/rebase-i.png"></p>
<p>清理自己branch</p>
<p>git checkout feature git rebase -i HEAD~3</p>
<p><img src="/images/git/rebase-self.png"></p>
<h2 id="Branching"><a href="#Branching" class="headerlink" title="Branching"></a>Branching</h2><p><img src="/images/git-branches.png"><br>create a new branch named “feature_x” and switch to it using<br><code>git checkout -b feature_x</code><br>switch back to master<br><code>git checkout master</code><br>and delete the branch again<br><code>git branch -d feature_x</code><br>a branch is not available to others unless you push the branch to your remote repository<br><code>git push origin &lt;branch&gt;</code></p>
<h2 id="Stash"><a href="#Stash" class="headerlink" title="Stash"></a>Stash</h2><p>commit完后，开始写新的东西，但是发现上次commit的有错漏，就可以用stash暂存当前的改动，然后去改上次的commit，最后stash pop回到写的新的东西。</p>
<ol>
<li>To save your uncommitted changes: <code>git stash</code></li>
<li>做一些改动</li>
<li>Now add them to the last commit:<br><code>git add -u</code> -u means update<br><code>git commit --amend</code></li>
<li>To list your saved stashes: <code>git stash list</code></li>
<li>To apply saved stashes<ul>
<li>To apply a stash and remove it from the stash list: <code>git stash pop stash@&#123;x&#125;</code></li>
<li>To apply a stash and keep it in the stash list: <code>git stash apply stash@&#123;x&#125;</code></li>
</ul>
</li>
</ol>
<h2 id="Clean"><a href="#Clean" class="headerlink" title="Clean"></a>Clean</h2><p><code>git clean</code> is a builtin command to cleanup the untracked files. Be careful with this one, it deletes files permanently! Always add -n or –dry-run options to preview.</p>
<ul>
<li>If you just clean untracked files, run <code>git clean -f</code></li>
<li>If you want to also remove directories, run <code>git clean -f -d</code></li>
<li>If you just want to remove ignored files, run <code>git clean -f -X</code></li>
<li>If you want to remove ignored as well as non-ignored files, run <code>git clean -f -x</code></li>
</ul>
<h2 id="Undo"><a href="#Undo" class="headerlink" title="Undo"></a>Undo</h2><h4 id="undo-a-single-file"><a href="#undo-a-single-file" class="headerlink" title="undo a single file"></a>undo a single file</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;commit_ID&gt; &lt;file&gt;</span><br></pre></td></tr></table></figure>

<p>Check out a previous version of a file. This turns the <file> that resides in the working directory into an exact copy of the one from <commit> and adds it to the staging area.</p>
<h4 id="revert"><a href="#revert" class="headerlink" title="revert"></a>revert</h4><p>The git revert command undoes a committed snapshot. But, instead of removing the commit from the project history, it figures out how to undo the changes introduced by the commit and appends a new commit with the resulting content.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git revert &lt;commit&gt;</span><br></pre></td></tr></table></figure>

<p>Generate a new commit that undoes all of the changes introduced in <commit>, then apply it to the current branch.</p>
<p>Reverting should be used when you want to remove an entire commit from your project history. This can be useful, for example, if you’re tracking down a bug and find that it was introduced by a single commit. Instead of manually going in, fixing it, and committing a new snapshot, you can use git revert to automatically do all of this for you.</p>
<p>Reverting can be visualized like this in the commit history, where we are reverting the commit with the “x” mark and creating a <strong>new commit without such change</strong>:</p>
<p><img src="/images/git/git-revert.png"></p>
<h4 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h4><p>Like git checkout, git reset is a versatile command with many configurations. It can be used to remove committed snapshots, although it’s more often used to undo changes in the staging area and the working directory. In either case, it should only be used to undo local changes—you should never reset snapshots that have been shared with other developers.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset &lt;file&gt;</span><br></pre></td></tr></table></figure>

<p>Remove the specified file from the staging area</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset</span><br></pre></td></tr></table></figure>

<p>Reset the staging area to match the most recent commit</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br></pre></td></tr></table></figure>

<p>Reset the staging area and the working directory to match the most recent commit. This <em>obliterates</em> all uncommitted changes.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset &lt;commit_ID&gt;</span><br></pre></td></tr></table></figure>

<p>Move the current branch tip backward to <commit>, reset the staging area to match.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;commit_ID&gt; </span><br></pre></td></tr></table></figure>

<p>Move the current branch tip backward to <commit> and reset both the staging area and the working directory to match. This obliterates not only the uncommitted changes, but all commits after <commit>, as well.</p>
<p>Resetting can be visualized like this in the commit history:</p>
<p><img src="/images/git/git-reset.png"></p>
<h2 id="Git-ignore"><a href="#Git-ignore" class="headerlink" title="Git ignore"></a>Git ignore</h2><p>Use .gitignore file to avoid tracking all files in the working directory.</p>
<table>

<thead>

<tr>

<th width="31%">Pattern</th>

<th width="39%">Example matches</th>

<th width="30%">Explanation</th>

</tr>

</thead>

<tbody>

<tr>

<td>**/logs</td>

<td>logs/debug.log  
logs/monday/foo.bar  
build/logs/debug.log</td>

<td>You can prepend a pattern with a double asterisk to match directories anywhere in the repository.</td>

</tr>

<tr>

<td>**/logs/debug.log</td>

<td>logs/debug.log  
build/logs/debug.log  
but not  
logs/build/debug.log</td>

<td>You can also use a double asterisk to match files based on their name and the name of their parent directory.</td>

</tr>

<tr>

<td>*.log</td>

<td>debug.log  
foo.log  
.log  
logs/debug.log</td>

<td>An asterisk is a wildcard that matches zero or more characters.</td>

</tr>

<tr>

<td>*.log  
!important.log</td>

<td>debug.log  
trace.log  
but not  
important.log  
logs/important.log</td>

<td>Prepending an exclamation mark to a pattern negates it. If a file matches a pattern, but _also_ matches a negating pattern defined later in the file, it will not be ignored.</td>

</tr>

<tr>

<td>*.log  
!important/*.log  
trace.*</td>

<td>debug.log  
important/trace.log  
but not  
important/debug.log</td>

<td>Patterns defined after a negating pattern will re-ignore any previously negated files.</td>

</tr>

<tr>

<td>/debug.log</td>

<td>debug.log  
but not  
logs/debug.log</td>

<td>Prepending a slash matches files only in the repository root.</td>

</tr>

<tr>

<td>debug.log</td>

<td>debug.log  
logs/debug.log</td>

<td>By default, patterns match files in any directory</td>

</tr>

<tr>

<td>debug?.log</td>

<td>debug0.log  
debugg.log  
but not  
debug10.log</td>

<td>A question mark matches exactly one character.</td>

</tr>

<tr>

<td>debug[0-9].log</td>

<td>debug0.log  
debug1.log  
but not  
debug10.log</td>

<td>Square brackets can also be used to match a single character from a specified range.</td>

</tr>

<tr>

<td>debug[01].log</td>

<td>debug0.log  
debug1.log  
but not  
debug2.log  
debug01.log</td>

<td>Square brackets match a single character form the specified set.</td>

</tr>

<tr>

<td>debug[!01].log</td>

<td>debug2.log  
but not  
debug0.log  
debug1.log  
debug01.log</td>

<td>An exclamation mark can be used to match any character except one from the specified set.</td>

</tr>

<tr>

<td>debug[a-z].log</td>

<td>debuga.log  
debugb.log  
but not  
debug1.log</td>

<td>Ranges can be numeric or alphabetic.</td>

</tr>

<tr>

<td>logs</td>

<td>logs  
logs/debug.log  
logs/latest/foo.bar  
build/logs  
build/logs/debug.log</td>

<td>If you don't append a slash, the pattern will match both files and the contents of directories with that name. In the example matches on the left, both directories and files named _logs_ are ignored</td>

</tr>

<tr>

<td>logs/</td>

<td>logs/debug.log  
logs/latest/foo.bar  
build/logs/foo.bar  
build/logs/latest/debug.log</td>

<td>Appending a slash indicates the pattern is a directory. The entire contents of any directory in the repository matching that name – including all of its files and subdirectories – will be ignored</td>

</tr>

<tr>

<td>logs/  
!logs/important.log</td>

<td>logs/debug.log  
logs/important.log</td>

<td>logs/important.log will be ignored and won't be negated due to a performance-related quirk in Git, you _can not_ negate a file that is ignored due to a pattern matching a directory</td>

</tr>

<tr>

<td>logs/**/debug.log</td>

<td>logs/debug.log  
logs/monday/debug.log  
logs/monday/pm/debug.log</td>

<td>A double asterisk matches zero or more directories.</td>

</tr>

<tr>

<td>logs/*day/debug.log</td>

<td>logs/monday/debug.log  
logs/tuesday/debug.log  
but not  
logs/latest/debug.log</td>

<td>Wildcards can be used in directory names as well.</td>

</tr>

<tr>

<td>logs/debug.log</td>

<td>logs/debug.log  
but not  
debug.log  
build/logs/debug.log</td>

<td>Patterns specifying a file in a particular directory are relative to the repository root. (You can prepend a slash if you like, but it doesn't do anything special.)</td>

</tr>

</tbody>

</table>

<p>In addition to these characters, you can use # to include comments in your .gitignore file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ignore all logs:</span><br><span class="line">*.log</span><br></pre></td></tr></table></figure>

<p>You can use \ to escape .gitignore pattern characters if you have files or directories containing them:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ignore the file literally named foo[01].txt:</span><br><span class="line">foo\[01\].txt</span><br></pre></td></tr></table></figure>

<p>Ignore previously committed files:<br><code>git rm --cached xxx</code><br>You can omit the –cached option if you want to delete the file from both the repository and your local file system.</p>
<p>To untrack every file in .gitignore, first commit any outstanding code changes, and then run:<br><code>git rm -r --cached .</code><br>then add and commit</p>
<p><a target="_blank" rel="noopener" href="https://www.toptal.com/developers/gitignore">自动生成gitignore文件</a></p>
<h2 id="cherry-pick"><a href="#cherry-pick" class="headerlink" title="cherry-pick"></a>cherry-pick</h2><p>Cherry picking is the act of picking a commit from a branch and applying it to another. </p>
<p>应用场景</p>
<p>1）a commit is accidently made to the wrong branch. You can switch to the correct branch and cherry-pick the commit to where it should belong.</p>
<p>2）合作者的commit是自己可以复用的代码，直接cherry-pick过来</p>
<p>3）搞新feature的时候发现老代码有bug，直接在新feature的branch上修好bug，提一个commit，再cherry-pick到main分支做hotfix。不需要再建修bug的branch然后一通操作，就很乱。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a - b - c - d   Master</span><br><span class="line">      \</span><br><span class="line">        e - f - g Feature</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 切换到 master 分支</span><br><span class="line">$ git checkout master</span><br><span class="line"></span><br><span class="line"># Cherry pick 操作，f 可以是哈希值，也可以是分支名</span><br><span class="line">$ git cherry-pick f</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a - b - c - d - f&#39;   Master</span><br><span class="line">     \</span><br><span class="line">       e - f - g Feature</span><br></pre></td></tr></table></figure>
<p>一次转移多个提交：<br><code>git cherry-pick &lt;HashA&gt; &lt;HashB&gt;</code></p>
<p>如果想要转移一系列的连续提交，可以使用下面的简便语法。<br><code>git cherry-pick A..Z</code><br>上面的命令可以转移从 A 到 Z 的所有提交。它们必须按照正确的顺序放置：提交 A 必须早于提交 Z，否则命令将失败，但不会报错。<br>注意，使用上面的命令，提交 A 将不会包含在 Cherry pick 中。如果要包含提交 A，可以使用下面的语法。<br><code>git cherry-pick A^..Z</code> </p>
<br/>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a target="_blank" rel="noopener" href="https://rogerdudler.github.io/git-guide/">https://rogerdudler.github.io/git-guide/</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/20537223/what-is-the-intended-use-case-for-git-stash">https://stackoverflow.com/questions/20537223/what-is-the-intended-use-case-for-git-stash</a></li>
<li><a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud">https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud</a></li>
<li><a target="_blank" rel="noopener" href="https://coderwall.com/p/g16jpq/keep-your-git-directory-clean-with-git-clean-and-git-trash">https://coderwall.com/p/g16jpq/keep-your-git-directory-clean-with-git-clean-and-git-trash</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html">http://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html</a></li>
</ol>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          Donate
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>Copyright： </strong>
          
          Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source.
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        分享
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/%E6%8A%80%E6%9C%AF/Git/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/" rel="tag">git</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/%E6%8A%80%E6%9C%AF/Markdown/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            Markdown
          
        </div>
      </a>
    
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
  <div id="vcomments"></div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<script>
  new Valine({
    el: "#vcomments",
    app_id: "",
    app_key: "",
    path: window.location.pathname,
    avatar: "monsterid",
    placeholder: "给我的文章加点评论吧~",
    recordIP: true,
  });
  const infoEle = document.querySelector("#vcomments .info");
  if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
    infoEle.childNodes.forEach(function (item) {
      item.parentNode.removeChild(item);
    });
  }
</script>
<style>
  #vcomments-box {
    padding: 5px 30px;
  }

  @media screen and (max-width: 800px) {
    #vcomments-box {
      padding: 5px 0px;
    }
  }

  #vcomments-box #vcomments {
    background-color: #fff;
  }

  .v .vlist .vcard .vh {
    padding-right: 20px;
  }

  .v .vlist .vcard {
    padding-left: 10px;
  }
</style>

 
   
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> Wang Renhang
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="采石矶"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->
 
<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: ".tocbot",
    contentSelector: ".article-entry",
    headingSelector: "h1, h2, h3, h4, h5, h6",
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: "main",
    positionFixedSelector: ".tocbot",
    positionFixedClass: "is-position-fixed",
    fixedSidebarOffset: "auto",
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>